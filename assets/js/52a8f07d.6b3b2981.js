"use strict";(self.webpackChunkdl_docs=self.webpackChunkdl_docs||[]).push([[995],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=r.createContext({}),s=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=s(n),m=a,f=d["".concat(p,".").concat(m)]||d[m]||u[m]||o;return n?r.createElement(f,i(i({ref:t},c),{},{components:n})):r.createElement(f,i({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var s=2;s<o;s++)i[s]=n[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},9267:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var r=n(7462),a=(n(7294),n(3905));const o={sidebar_position:2},i="First run",l={unversionedId:"getting-started/first-run",id:"getting-started/first-run",title:"First run",description:"Service containers",source:"@site/docs/getting-started/first-run.md",sourceDirName:"getting-started",slug:"/getting-started/first-run",permalink:"/getting-started/first-run",draft:!1,editUrl:"https://github.com/local-deploy/docs/edit/master/docs/getting-started/first-run.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/getting-started/install"},next:{title:"Configuration",permalink:"/getting-started/env"}},p={},s=[{value:"Service containers",id:"service-containers",level:2},{value:"Launching a local site",id:"launching-a-local-site",level:2}],c={toc:s};function u(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"first-run"},"First run"),(0,a.kt)("h2",{id:"service-containers"},"Service containers"),(0,a.kt)("p",null,"After installation, the first step is to start the service containers."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"dl service up\n")),(0,a.kt)("p",null,"The command will check that docker is installed correctly and launch the portainer, mailcatcher and traefik containers."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"DL uses ports 8080, 80 and 443 by default. These should be available on your system.")),(0,a.kt)("p",null,"After the launch, the services will be available at url:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Portainer ",(0,a.kt)("a",{parentName:"li",href:"http://portainer.localhost"},"http://portainer.localhost")),(0,a.kt)("li",{parentName:"ul"},"Traefik ",(0,a.kt)("a",{parentName:"li",href:"http://traefik.localhost"},"http://traefik.localhost")),(0,a.kt)("li",{parentName:"ul"},"Mailhog ",(0,a.kt)("a",{parentName:"li",href:"http://mail.localhost"},"http://mail.localhost"))),(0,a.kt)("p",null,"The command needs to be executed only once, containers are started with the option ",(0,a.kt)("inlineCode",{parentName:"p"},"restart: always"),", that is, after restarting the computer, docker will automatically start them."),(0,a.kt)("p",null,"If you want to stop and remove service containers, run the command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"dl service down\n")),(0,a.kt)("h2",{id:"launching-a-local-site"},"Launching a local site"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Clone the git repository to your computer (you are using git, right?) and navigate to the root directory of the project.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Run the command ",(0,a.kt)("inlineCode",{parentName:"p"},"dl env")," to copy the example ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," file."),(0,a.kt)("p",{parentName:"li"},"If you already use ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," on your project, you will receive a warning with options: overwrite the file or display the necessary variables that need to be copied and placed in your current ",(0,a.kt)("inlineCode",{parentName:"p"},".env"),"."),(0,a.kt)("p",{parentName:"li"},"You can create a file ",(0,a.kt)("inlineCode",{parentName:"p"},".env.example")," and add it under git, then it will be used when you run the command ",(0,a.kt)("inlineCode",{parentName:"p"},"dl env"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Edit the ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," file with the required variables. ",(0,a.kt)("sup",{parentName:"p",id:"fnref-1"},(0,a.kt)("a",{parentName:"sup",href:"#fn-1",className:"footnote-ref"},"1")))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Run the ",(0,a.kt)("inlineCode",{parentName:"p"},"dl deploy")," command if you need to download the database or files from the production server. ",(0,a.kt)("sup",{parentName:"p",id:"fnref-2"},(0,a.kt)("a",{parentName:"sup",href:"#fn-2",className:"footnote-ref"},"2")),(0,a.kt)("br",{parentName:"p"}),"\n","Important! You must be configured to access the server via ssh key.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Run the project with the ",(0,a.kt)("inlineCode",{parentName:"p"},"dl up")," command. To stop and remove containers in a project, use the ",(0,a.kt)("inlineCode",{parentName:"p"},"dl down")," command. ",(0,a.kt)("sup",{parentName:"p",id:"fnref-2"},(0,a.kt)("a",{parentName:"sup",href:"#fn-2",className:"footnote-ref"},"2"))))),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"All DL commands must be run in the root directory of the project, which contains the ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," file.")),(0,a.kt)("p",null,"After starting the project, local links will be displayed. You can use the .localhost domain or access the site through the nip.io service \u2014 this is convenient if you work in a corporate local network, then colleagues can go to your site from their computer."),(0,a.kt)("div",{className:"footnotes"},(0,a.kt)("hr",{parentName:"div"}),(0,a.kt)("ol",{parentName:"div"},(0,a.kt)("li",{parentName:"ol",id:"fn-1"},(0,a.kt)("a",{parentName:"li",href:"env"},"Configuration via .env file "),"  ",(0,a.kt)("a",{parentName:"li",href:"#fnref-1",className:"footnote-backref"},"\u21a9")),(0,a.kt)("li",{parentName:"ol",id:"fn-2"},(0,a.kt)("a",{parentName:"li",href:"../commands"},"Available commands "),(0,a.kt)("a",{parentName:"li",href:"#fnref-2",className:"footnote-backref"},"\u21a9")))))}u.isMDXComponent=!0}}]);